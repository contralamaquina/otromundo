<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Quitar fondo con CORS Anywhere y Replicate API</title>
  <style>
    body {
      background: #111;
      color: #eee;
      font-family: 'Courier New', monospace;
      text-align: center;
      padding: 2rem;
    }
    input, button {
      margin: 1rem;
      padding: 0.7rem 1.2rem;
      font-size: 1.1rem;
      cursor: pointer;
      border-radius: 6px;
      border: none;
    }
    button {
      background: #f03a3a;
      color: white;
    }
    img {
      margin-top: 1rem;
      max-width: 300px;
      border: 2px solid #0f0;
      border-radius: 8px;
    }
  </style>
</head>
<body>

<h1>Quitar fondo con CORS Anywhere y Replicate API</h1>
<input type="file" id="fileInput" accept="image/*" />
<br />
<button id="btnRemoveBg">ðŸ§¹ Quitar fondo</button>

<div>
  <h2>Resultado</h2>
  <img id="resultImg" alt="Logo sin fondo" />
</div>

<script>
  const fileInput = document.getElementById('fileInput');
  const btnRemoveBg = document.getElementById('btnRemoveBg');
  const resultImg = document.getElementById('resultImg');

  const API_KEY = "r8_LXxyHy8ThawFp2Qn0uf67ujKjxZr8zO3ooxNH";
  const MODEL_VERSION = "7de4b15d1a064d9d8c488d0e2df10baf5c3b6a8e66e46f0d2e9b9e2cc287e735";

  function fileToBase64(file) {
    return new Promise((resolve, reject) => {
      const reader = new FileReader();
      reader.onload = () => resolve(reader.result); // devolvemos todo, no cortamos
      reader.onerror = reject;
      reader.readAsDataURL(file);
    });
  }

  async function removeBackground(base64Image) {
    const proxyUrl = "https://cors-anywhere.herokuapp.com/";
    const apiUrl = "https://api.replicate.com/v1/predictions";

    const response = await fetch(proxyUrl + apiUrl, {
      method: "POST",
      headers: {
        Authorization:
